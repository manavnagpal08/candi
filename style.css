/* style.css - The "100x More Beautiful" Edition */

/* --- Google Fonts Import --- */
@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&family=Poppins:wght@300;400;500;600;700&display=swap');

/* --- Root Variables (Light and Dark Mode) --- */
:root {
    /* Light Mode Palette */
    --primary-bg-light: #f0f4f8; /* Muted light blue-grey */
    --secondary-bg-light: #ffffff; /* Pure white for cards/sidebar */
    --accent-color: #4A90E2; /* Deep Sky Blue - a modern, vibrant blue */
    --accent-hover: #357ABD; /* Darker blue on hover */
    --text-primary-light: #333333; /* Dark grey for main text */
    --text-secondary-light: #5a5a5a; /* Lighter grey for secondary text */
    --border-color-light: #e0e0e0; /* Light grey border */
    --input-bg-light: #fdfdfd;
    --input-border-light: #dcdcdc;

    /* Shadows - Multi-layered for depth */
    --shadow-sm-light: 0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.03);
    --shadow-md-light: 0 4px 6px rgba(0, 0, 0, 0.08), 0 1px 3px rgba(0, 0, 0, 0.05);
    --shadow-lg-light: 0 10px 15px rgba(0, 0, 0, 0.1), 0 4px 6px rgba(0, 0, 0, 0.05);
    --shadow-xl-light: 0 20px 25px rgba(0, 0, 0, 0.15), 0 10px 10px rgba(0, 0, 0, 0.08);

    /* Alert Colors */
    --info-bg-light: #e3f2fd; --info-text-light: #1976d2; --info-border-light: #90caf9;
    --success-bg-light: #e8f5e9; --success-text-light: #388e3c; --success-border-light: #a5d6a7;
    --warning-bg-light: #fffde7; --warning-text-light: #fbc02d; --warning-border-light: #ffe082;
    --error-bg-light: #ffebee; --error-text-light: #d32f2f; --error-border-light: #ef9a9a;

    /* Animation */
    --transition-speed: 0.4s;
    --transition-ease: cubic-bezier(0.25, 0.8, 0.25, 1); /* Material Design ease */
}

body.dark-mode {
    /* Dark Mode Palette */
    --primary-bg-dark: #121212; /* Very dark grey */
    --secondary-bg-dark: #1e1e1e; /* Slightly lighter dark grey for cards/sidebar */
    --accent-color: #4A90E2; /* Keep vibrant blue accent */
    --accent-hover: #67a9f8; /* Lighter blue on hover for dark mode */
    --text-primary-dark: #e0e0e0; /* Light grey for main text */
    --text-secondary-dark: #b0b0b0; /* Muted light grey for secondary text */
    --border-color-dark: #3a3a3a; /* Darker border */
    --input-bg-dark: #2a2a2a;
    --input-border-dark: #4a4a4a;

    /* Shadows - More subtle in dark mode */
    --shadow-sm-dark: 0 1px 3px rgba(0, 0, 0, 0.2), 0 1px 2px rgba(0, 0, 0, 0.1);
    --shadow-md-dark: 0 4px 6px rgba(0, 0, 0, 0.3), 0 1px 3px rgba(0, 0, 0, 0.2);
    --shadow-lg-dark: 0 10px 15px rgba(0, 0, 0, 0.4), 0 4px 6px rgba(0, 0, 0, 0.25);
    --shadow-xl-dark: 0 20px 25px rgba(0, 0, 0, 0.5), 0 10px 10px rgba(0, 0, 0, 0.3);

    /* Alert Colors (Dark Mode) */
    --info-bg-dark: #0d47a1; --info-text-dark: #bbdefb; --info-border-dark: #42a5f5;
    --success-bg-dark: #1b5e20; --success-text-dark: #c8e6c9; --success-border-dark: #81c784;
    --warning-bg-dark: #f57f17; --warning-text-dark: #fff9c4; --warning-border-dark: #ffee58;
    --error-bg-dark: #b71c1c; --error-text-dark: #ffcdd2; --error-border-dark: #e57373;
}

/* --- Global Base Styles --- */
html, body, .stApp {
    font-family: 'Poppins', sans-serif; /* Modern, clean sans-serif for body */
    background: var(--primary-bg-light); /* Default to light mode */
    color: var(--text-primary-light);
    margin: 0;
    padding: 0;
    transition: background-color var(--transition-speed) var(--transition-ease),
                color var(--transition-speed) var(--transition-ease);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

body.dark-mode {
    background: var(--primary-bg-dark);
    color: var(--text-primary-dark);
}

/* Custom Scrollbar */
::-webkit-scrollbar {
    width: 10px;
    height: 10px; /* For horizontal scrollbars */
}
::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.05); /* Lighter track */
    border-radius: 5px;
}
::-webkit-scrollbar-thumb {
    background: var(--accent-color);
    border-radius: 5px;
    border: 2px solid transparent; /* Creates a small gap */
    background-clip: content-box; /* Ensures border doesn't fill thumb */
}
::-webkit-scrollbar-thumb:hover {
    background: var(--accent-hover);
}
body.dark-mode ::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05); /* Darker track */
}

/* Selection Color */
::selection {
    background: var(--accent-color);
    color: white;
}

/* --- Typography --- */
h1, h2, h3, h4, h5, h6 {
    font-family: 'Montserrat', sans-serif; /* Stronger, more elegant serif for headings */
    color: var(--accent-color); /* Headings use accent color */
    margin-top: 1.8em;
    margin-bottom: 0.8em;
    font-weight: 700;
}

h1 { font-size: 2.8em; line-height: 1.2; text-shadow: var(--shadow-sm-light); }
h2 { font-size: 2.2em; font-weight: 600; }
h3 { font-size: 1.8em; font-weight: 600; }
p { line-height: 1.7; color: var(--text-secondary-light); }
body.dark-mode p { color: var(--text-secondary-dark); }
a { color: var(--accent-color); text-decoration: none; transition: color var(--transition-speed) var(--transition-ease); }
a:hover { color: var(--accent-hover); text-decoration: underline; }

/* --- Sidebar Styling --- */
.stSidebar {
    background: var(--secondary-bg-light); /* White background in light mode */
    color: var(--text-primary-light);
    padding-top: 2.5rem;
    box-shadow: var(--shadow-lg-light); /* More pronounced shadow */
    transition: background var(--transition-speed) var(--transition-ease),
                color var(--transition-speed) var(--transition-ease),
                box-shadow var(--transition-speed) var(--transition-ease);
    border-right: 1px solid var(--border-color-light); /* Subtle right border */
}

body.dark-mode .stSidebar {
    background: var(--secondary-bg-dark); /* Dark background in dark mode */
    color: var(--text-primary-dark);
    box-shadow: var(--shadow-lg-dark);
    border-right: 1px solid var(--border-color-dark);
}

.stSidebar .stButton > button {
    width: calc(100% - 2rem); /* Account for horizontal padding */
    margin: 0.5rem 1rem; /* Consistent margins */
    background: transparent;
    color: var(--text-primary-light);
    border: none; /* No border for sidebar buttons */
    box-shadow: none;
    transition: all var(--transition-speed) var(--transition-ease);
    font-weight: 500;
    padding: 0.9rem 1.2rem;
    border-radius: 0.75rem; /* More rounded corners */
    text-align: left; /* Align text left */
    display: flex;
    align-items: center;
    gap: 0.8rem;
}

body.dark-mode .stSidebar .stButton > button {
    color: var(--text-primary-dark);
}

.stSidebar .stButton > button:hover {
    background: rgba(74, 144, 226, 0.1); /* Subtle accent background */
    color: var(--accent-color);
    transform: translateY(-2px); /* Lift effect */
    box-shadow: var(--shadow-sm-light); /* Light shadow on hover */
}

body.dark-mode .stSidebar .stButton > button:hover {
    background: rgba(74, 144, 226, 0.15); /* Slightly stronger for dark mode */
    color: var(--accent-hover);
    box-shadow: var(--shadow-sm-dark);
}


/* Custom HR Portal Button in sidebar */
.stSidebar a > button {
    background: linear-gradient(45deg, #28a745, #218838) !important; /* Green gradient */
    color: white !important;
    border: none !important;
    border-radius: 0.75rem !important; /* Consistent with other buttons */
    padding: 0.9rem 1.5rem !important;
    font-weight: 600 !important;
    width: calc(100% - 2rem) !important;
    margin: 1rem 1rem !important;
    cursor: pointer !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 10px !important;
    box-shadow: var(--shadow-md-light) !important;
    transition: all var(--transition-speed) var(--transition-ease) !important;
    overflow: hidden; /* For hover effect */
    position: relative;
    z-index: 1;
}

.stSidebar a > button::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    background: rgba(255, 255, 255, 0.15);
    border-radius: 50%;
    transition: width 0.4s ease, height 0.4s ease, top 0.4s ease, left 0.4s ease;
    transform: translate(-50%, -50%);
    z-index: -1;
}

.stSidebar a > button:hover::before {
    width: 250%;
    height: 250%;
}

.stSidebar a > button:hover {
    background: linear-gradient(45deg, #218838, #1e7e34) !important;
    transform: translateY(-3px) scale(1.02) !important;
    box-shadow: var(--shadow-lg-light) !important;
}

body.dark-mode .stSidebar a > button {
    box-shadow: var(--shadow-md-dark) !important;
}
body.dark-mode .stSidebar a > button:hover {
    box-shadow: var(--shadow-lg-dark) !important;
}


/* --- Main Content Styling --- */
.main .block-container {
    padding-top: 1.5rem; /* Adjusted for hidden header */
    padding-bottom: 2.5rem;
    padding-left: 4rem; /* More generous side padding */
    padding-right: 4rem; /* More generous side padding */
    opacity: 0; /* Start hidden for fade-in */
    transform: translateY(30px); /* Start further below for slide-up */
    animation: fadeInSlideUp var(--transition-speed) var(--transition-ease) forwards;
}

/* Keyframe for page fade-in and slide-up */
@keyframes fadeInSlideUp {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Inputs (text_input, text_area, selectbox, multiselect) */
.stTextInput > div > div > input,
.stTextArea > div > div > textarea,
.stSelectbox > div > div > div > div > span,
.stMultiSelect > div > div > div > div > span,
.stSlider > div > div > div > div > div {
    background-color: var(--input-bg-light) !important;
    color: var(--text-primary-light) !important;
    border: 1px solid var(--input-border-light) !important;
    border-radius: 0.75rem; /* More rounded */
    padding: 0.8rem 1.2rem;
    box-shadow: inset var(--shadow-sm-light); /* Inner shadow for depth */
    transition: all var(--transition-speed) var(--transition-ease);
}

body.dark-mode .stTextInput > div > div > input,
body.dark-mode .stTextArea > div > div > textarea,
body.dark-mode .stSelectbox > div > div > div > div > span,
body.dark-mode .stMultiSelect > div > div > div > div > span,
body.dark-mode .stSlider > div > div > div > div > div {
    background-color: var(--input-bg-dark) !important;
    color: var(--text-primary-dark) !important;
    border: 1px solid var(--input-border-dark) !important;
    box-shadow: inset var(--shadow-sm-dark);
}

.stTextInput > div > div > input:focus,
.stTextArea > div > div > textarea:focus {
    border-color: var(--accent-color) !important;
    box-shadow: 0 0 0 4px rgba(74, 144, 226, 0.25) !important; /* Stronger glow effect */
    outline: none !important;
    transform: scale(1.005); /* Very slight zoom on focus */
}

/* Labels for inputs */
.stTextInput label,
.stTextArea label,
.stSelectbox label,
.stMultiSelect label,
.stSlider label,
.stRadio label,
.stCheckbox label {
    color: var(--text-primary-light) !important;
    font-weight: 600; /* Bolder labels */
    margin-bottom: 0.6rem;
    display: block;
    font-size: 1.05em;
}

body.dark-mode .stTextInput label,
body.dark-mode .stTextArea label,
body.dark-mode .stSelectbox label,
body.dark-mode .stMultiSelect label,
body.dark-mode .stSlider label,
body.dark-mode .stRadio label,
body.dark-mode .stCheckbox label {
    color: var(--text-primary-dark) !important;
}


/* Main Content Buttons */
.stButton > button {
    background: linear-gradient(45deg, var(--accent-color), #5DADE2); /* Gradient background */
    color: white;
    border: none;
    border-radius: 0.75rem;
    padding: 0.9rem 1.8rem;
    font-weight: 700;
    transition: all var(--transition-speed) var(--transition-ease);
    box-shadow: var(--shadow-md-light);
    cursor: pointer;
    overflow: hidden; /* For ripple effect or similar */
    position: relative;
    z-index: 1;
}

.stButton > button:active {
    transform: translateY(1px); /* Slight press effect */
    box-shadow: var(--shadow-sm-light);
}

.stButton > button::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 50%;
    transition: width 0.4s ease, height 0.4s ease, top 0.4s ease, left 0.4s ease;
    transform: translate(-50%, -50%);
    z-index: -1;
}

.stButton > button:hover::before {
    width: 250%;
    height: 250%;
}

.stButton > button:hover {
    background: linear-gradient(45deg, var(--accent-hover), #4A90E2);
    transform: translateY(-4px) scale(1.02); /* More pronounced lift and slight scale */
    box-shadow: var(--shadow-xl-light); /* Deeper shadow on hover */
}

body.dark-mode .stButton > button {
    background: linear-gradient(45deg, var(--accent-color), #67a9f8);
    box-shadow: var(--shadow-md-dark);
}
body.dark-mode .stButton > button:hover {
    background: linear-gradient(45deg, var(--accent-hover), #4A90E2);
    box-shadow: var(--shadow-xl-dark);
}


/* Expander background */
.streamlit-expanderHeader {
    background-color: var(--secondary-bg-light);
    color: var(--text-primary-light);
    border-radius: 0.75rem;
    padding: 0.9rem 1.2rem;
    font-weight: 600;
    border: 1px solid var(--border-color-light);
    box-shadow: var(--shadow-md-light);
    transition: all var(--transition-speed) var(--transition-ease);
    cursor: pointer;
}

body.dark-mode .streamlit-expanderHeader {
    background-color: var(--secondary-bg-dark);
    color: var(--text-primary-dark);
    border: 1px solid var(--border-color-dark);
    box-shadow: var(--shadow-md-dark);
}

.streamlit-expanderHeader:hover {
    background-color: var(--primary-bg-light); /* Slightly change background on hover */
    transform: translateY(-3px);
    box-shadow: var(--shadow-lg-light);
}

body.dark-mode .streamlit-expanderHeader:hover {
    background-color: var(--primary-bg-dark);
    box-shadow: var(--shadow-lg-dark);
}

.streamlit-expanderContent {
    background-color: var(--secondary-bg-light); /* Match card background for cohesive look */
    color: var(--text-primary-light);
    border: 1px solid var(--border-color-light);
    border-top: none;
    border-bottom-left-radius: 0.75rem;
    border-bottom-right-radius: 0.75rem;
    padding: 1.5rem;
    margin-top: -0.5rem;
    box-shadow: var(--shadow-sm-light); /* Subtle shadow for content */
    border-top: 2px solid var(--accent-color); /* Accent line for content */
}

body.dark-mode .streamlit-expanderContent {
    background-color: var(--secondary-bg-dark);
    color: var(--text-primary-dark);
    border: 1px solid var(--border-color-dark);
    box-shadow: var(--shadow-sm-dark);
}


/* Info/Success/Warning/Error boxes (Alerts) */
.stAlert {
    border-radius: 0.75rem;
    padding: 1.2rem 1.5rem;
    margin-bottom: 1.5rem;
    font-weight: 500;
    box-shadow: var(--shadow-md-light);
    transition: all var(--transition-speed) var(--transition-ease);
    border-left: 6px solid; /* Stronger accent border */
}
.stAlert.stInfo {
    background-color: var(--info-bg-light);
    color: var(--info-text-light);
    border-color: var(--info-border-light);
}
.stAlert.stSuccess {
    background-color: var(--success-bg-light);
    color: var(--success-text-light);
    border-color: var(--success-border-light);
}
.stAlert.stWarning {
    background-color: var(--warning-bg-light);
    color: var(--warning-text-light);
    border-color: var(--warning-border-light);
}
.stAlert.stError {
    background-color: var(--error-bg-light);
    color: var(--error-text-light);
    border-color: var(--error-border-light);
}

body.dark-mode .stAlert.stInfo {
    background-color: var(--info-bg-dark);
    color: var(--info-text-dark);
    border-color: var(--info-border-dark);
}
body.dark-mode .stAlert.stSuccess {
    background-color: var(--success-bg-dark);
    color: var(--success-text-dark);
    border-color: var(--success-border-dark);
}
body.dark-mode .stAlert.stWarning {
    background-color: var(--warning-bg-dark);
    color: var(--warning-text-dark);
    border-color: var(--warning-border-dark);
}
body.dark-mode .stAlert.stError {
    background-color: var(--error-bg-dark);
    color: var(--error-text-dark);
    border-color: var(--error-border-dark);
}

.stAlert > div > div > div > div {
    color: inherit;
}

/* Dataframe styling */
.stDataFrame {
    border-radius: 0.75rem;
    overflow: hidden;
    box-shadow: var(--shadow-md-light);
    border: 1px solid var(--border-color-light);
    margin-top: 1.5rem;
    margin-bottom: 1.5rem;
    transition: all var(--transition-speed) var(--transition-ease);
}
body.dark-mode .stDataFrame {
    box-shadow: var(--shadow-md-dark);
    border: 1px solid var(--border-color-dark);
}

/* Metric boxes */
.stMetric {
    background-color: var(--secondary-bg-light);
    border-radius: 0.75rem;
    padding: 1.5rem;
    border: 1px solid var(--border-color-light);
    box-shadow: var(--shadow-md-light);
    transition: all var(--transition-speed) var(--transition-ease);
    overflow: hidden;
    position: relative;
    z-index: 1;
}

body.dark-mode .stMetric {
    background-color: var(--secondary-bg-dark);
    border: 1px solid var(--border-color-dark);
    box-shadow: var(--shadow-md-dark);
}

.stMetric:hover {
    transform: translateY(-5px); /* Stronger lift */
    box-shadow: var(--shadow-xl-light); /* Deeper shadow */
    border-color: var(--accent-color); /* Accent border on hover */
}

body.dark-mode .stMetric:hover {
    box-shadow: var(--shadow-xl-dark);
    border-color: var(--accent-hover);
}

.stMetric::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, rgba(74, 144, 226, 0.05), rgba(74, 144, 226, 0));
    transition: all var(--transition-speed) var(--transition-ease);
    z-index: -1;
    opacity: 0;
}

.stMetric:hover::before {
    opacity: 1;
}


/* Radio buttons and checkboxes */
.stRadio div[role="radiogroup"] label, .stCheckbox label {
    padding: 0.6rem 0;
    color: var(--text-primary-light);
    font-weight: 500;
}
body.dark-mode .stRadio div[role="radiogroup"] label, body.dark-mode .stCheckbox label {
    color: var(--text-primary-dark);
}

/* --- Utility Classes / Custom Components --- */

/* Horizontal Divider with subtle gradient */
.stHorizontalDivider {
    border: none;
    border-top: 1px dashed var(--border-color-light);
    margin: 2rem 0;
    background: linear-gradient(to right, transparent, var(--border-color-light), transparent);
    height: 1px;
}
body.dark-mode .stHorizontalDivider {
    border-top: 1px dashed var(--border-color-dark);
    background: linear-gradient(to right, transparent, var(--border-color-dark), transparent);
}

/* Custom Loader/Spinner (can be used with st.spinner) */
.stSpinner > div > div {
    border-top-color: var(--accent-color) !important;
    border-left-color: var(--accent-color) !important;
    animation: spin 1s linear infinite, pulse 1.5s ease-in-out infinite alternate;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

@keyframes pulse {
    0% { transform: scale(0.8); opacity: 0.7; }
    100% { transform: scale(1.0); opacity: 1; }
}

/* --- Rules to Hide Streamlit Elements (No Change, just included for completeness) --- */

header {
    visibility: hidden;
    height: 0px;
    padding: 0px;
}
.stApp header {
    visibility: hidden;
    height: 0px;
    padding: 0px;
}

.css-1jc7ptx, .e1ewe7hr3, .e1ewe7hr1, .css-1dp5vir {
    visibility: hidden;
    display: none;
}

footer {
    visibility: hidden;
    height: 0px;
    padding: 0px;
}
.stApp footer {
    visibility: hidden;
    height: 0px;
    padding: 0px;
}

/* Adjust main content padding to remove any leftover space if needed */
.main .block-container {
    padding-top: 1.5rem;
}
